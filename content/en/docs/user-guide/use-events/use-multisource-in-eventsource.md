---
title: "Use Multiple Sources in One EventSource"
linkTitle: "Use Multiple Sources in One EventSource"
weight: 4530
description: >	
    Learn how to use multiple sources in one EventSource.
---

This document describes how to use multiple sources in one EventSource.

## Prerequisites

You need to be familiar with the example given in [Use EventSource](../use-event-source).

## Use Multiple Sources in One EventSource

1. Use the following content to create an EventSource configuration file (for example, `eventsource-multi.yaml`).

   {{% alert title="Note" color="success" %}}

   - The following example defines an event source named `my-eventsource` and mark the events generated by the specified Kafka server as `sample-one`.
   - `EventSource.Sink` references the target function (Knative service). 

   {{% /alert %}}

   ```yaml
   apiVersion: events.openfunction.io/v1alpha1
   kind: EventSource
   metadata:
     name: my-eventsource
   spec:
     kafka:
       sample-three:
         brokers: dapr-kafka.kafka:9092
         topic: sample
         consumerGroup: group1
         authRequired: false
     cron:
       sample-three:
         schedule: "@every 5s" 
     sink:
       ref:
         apiVersion: serving.knative.dev/v1
         kind: Service
         name: function-sample-serving-x6qjw-ksvc-x72j7
         namespace: default
   ```

2. Run the following command to apply the configuration file.

   ```shell
   kubectl apply -f eventsource-multi.yaml
   ```

3. Run the following commands to check the results.

   ```shell
   $ kubectl get eventsources.events.openfunction.io
   NAME             EVENTBUS   SINK
   my-eventsource              function-sample-serving-ksvc
   
   $ kubectl get components
   NAME                                            AGE
   eventsource-my-eventsource-cron-sample-three    96s
   eventsource-my-eventsource-kafka-sample-three   96s
   eventsource-sink-my-eventsource                 96s
   
   $ kubectl get deployments.apps
   NAME                                            READY   UP-TO-DATE   AVAILABLE   AGE
   eventsource-my-eventsource-cron-sample-three    1/1     1            1           109s
   eventsource-my-eventsource-kafka-sample-three   1/1     1            1           109s
   ```

   {{% alert title="Note" color="success" %}}

   The role of the `cron` event is to trigger the function specified in `sink` every 5 seconds.
   
   {{% /alert %}}

